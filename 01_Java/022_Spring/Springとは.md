# Springとは

## 概要

Spring Frameworkは、Javaプラットフォーム向けのオープンソースアプリケーションフレームワークである。
一貫した機能の構成を提供し、その構成をJavaプラットフォーム上で作成される様々なアプリケーションに適用することができる。

## 構成

Spring Framework は、様々なサービスを提供する幾つかのモジュールから構成されている。
以下に比較的有名と思われるモジュールとその説明を記載。

#### Spring MVC

Spring MVCはModel-View-Controllerを実現するためのコントローラ層のフレームワークである。
同じコントローラ層のフレームワークとしては、StrutsやSAStruts、JSFなどが挙げられる。
注目すべきインターセプターとして以下のものが例にあげられる。

- HandlerMapping
    URLのパスとControllerを結び付けているインターフェイス

- ViewResolver
    コントローラがDispatcherに投げたビュー名と実際のビュー(テンプレートファイル)のマッピングを行うインターフェイス

- HandlerInterceptor
    リクエストに対しての共通処理を実装するためのインターフェイス
    Servlet Filterと同じようなもの

#### Spring Security

Spring Securityはアプリケーションのセキュリティを担う「認証」「認可」の2つを主な機能として提供している。

- 認証機能
なりすましによる不正アクセスに対抗するためユーザを識別する機能

- 認可機能
認証された（ログイン中の）ユーザの権限に応じてシステムのリソースに対するアクセス制御を行う機能

#### Spring Batch

Spring Batchはバッチ処理用に定義されたフレームワークである。
様々なインターフェイスを持ち、オフラインバッチに限らずオンラインバッチへの利用も可能である。
ファイル・DBへの読み書き、コミット/ロールバック制御等のバッチ処理に必要な基本的機能から並列処理、バッチアベンド後のリラン制御などの機能も提供している。

#### Spring AOP

「アスペクト指向プログラミング」のことである。
「アスペクト指向プログラミング」とは、クラスには「本質的な処理」のみ記述し「本質的ではない余計な処理（共通化出来る処理）」をアスペクトに記述するという指向のプログラミングである。

アスペクト（共通化出来る処理）を記述するクラスには@Aspectアノテーションを付け、アスペクトの条件と処理を書くメソッドには@Aroundなどのアノテーションを付けることで実装する。

#### Spring JDBC

Spring JDBCでは、SpringがJDBCを抽象化したフレームワークを提供しており、JDBC APIを直接使うよりも簡潔にデータアクセスコードを記述できるようになっている。
具体的にはコネクションの取得/解放、PreparedStatementやResultSetの隠蔽などを行ってくれる。

## Spring Boot

一つ上の見出し「構成」でSpringを構成するいくつかのモジュールを紹介したが、今回のアプリ構築ではSpring Bootという「それまでのSpringのフレームワーク（各種モジュール）を新しい形で「統合」したフレームワーク」を使用している。

Spring Bootはいかに簡単に使えるアプリケーションを作るかで設計されており、内部では様々なSpringのフレームワークが使われているが、開発者はそれらを意識する必要が全くない。

Spring Bootの特徴として以下の２点が挙げられる。

- XMLは書かない
    Springの特徴である「xmlによる各種設定ファイル」はなく、Javaのコードにアノテーションを書くだけで、全て自動的に設定が行われる。

- デプロイが要らない
    MavenやGradleコマンドを使ってビルドすると自動的にTomcatなどのサーブレットコンテナが組み込まれ、このコンテナ上でアプリケーションが実行される。
そのためプロジェクトをWARファイルにまとめたり、サーバへのデプロイ作業が不要になる。

## Springが選ばれる理由

一つの例として「他のオープンソースソフトウェアとの連携に優れている」という点が挙げられる。

SpringはHibernate、 Struts、Velocity、FreeMarkerなどの外部のオープンソースソフトウェアとの連携に非常に優れている。
例えばアプリケーションの出力先として、 HTML(JSP・Velocity・FreeMarker)、XML（XLST）、Excel、PDFなどを選ぶことができる。

また、データベースのアクセスライブラリとしては、HibernateやJDO、Oracle TopLinkなどを選択することができる。

Springをフレームワークとして採用しておけば、将来新しい技術やライブラリが登場してもアプリケーションの本体部分を変更することなく、 出力部分のライブラリだけを差し替えることにより簡単に対応できるということが期待できる。

## Spring Bootが選ばれる理由

きちんとモジュール分割されたフレームワークは、コアとなる機能（Spring Framework）があり、関連するプロダクト（Spring SecurityとかSpring AOP）が山盛りという構成になります。

そこでSpring Bootは、Springの肥大化したモジュール群の中から自分で取捨選択して機能を選ぶ必要がないため「関連プロダクトが多すぎてどれを選べばいいか分からない」という問題を解消してくれる。
