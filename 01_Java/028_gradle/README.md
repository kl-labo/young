# Gradleとは
Groovyというスクリプト言語を用いて書かれたビルドシステム。<br>
GroovyとはJava VM上で動作する動的なスクリプト言語で、<br>
他のスクリプト言語と比較するとJavaとの親和性が高いことが特徴。

# 今までのビルドツールとの違い
現在私がプロジェクトで利用しているビルドツールはMavenです。<br>
AntやMavenはxml形式でプロジェクトの依存関係の記述などを書きますが、
Gradleではbuild.gradleというファイルに書きます。<br>
Groovy enVironment Manager(以下、GVM)を使えば、Gradle自体のインストールをコマンド一つでできたり設定が必要ないというのも、大きな違いだといえると思います。

# 実際にGradleを使うには
まずGradleのインストールが必要になりますが、インストール方法は以下の2パターンがあります。<br>
1. Gradle公式サイトからダウンロードし、環境変数を通す
1. GVMをインストール後、コマンドでGradleをインストール

以下それぞれ詳細に記載していきます。

# Gradleのインストール ~方法1~
[Gradle公式サイト](http://www.gradle.org/ "Gradle公式サイト")からダウンロード。<br>
AntやMavenと同じように任意の場所にダウンロードしたフォルダを配置し、
以下の環境パスを設定します。

|   環境変数   | パス                    |
|:------------:|:----------------------:|
| GRADLE_HOME  |    D:/gradle-2.7 ※1    |
|     path     | GRADLE_HOME/bin ※2     |
※1 Dドライブ直下に配置した場合<br>
※2 環境変数pathに追記

# Gradleのインストール ~方法2~
gvmを使用する方法ですが、Windows環境で利用する場合にはCygwinのインストールが必要です。<br>
今回Cygwinについては詳しくは触れませんが、Windows環境でlinuxコマンドが使えるようになったりする
ツールです。<br>
Cygwinのインストールが完了したら、以下のコマンドを実行。<br>

`curl -s get.gvmtool.net | bash`

gvmのインストールが完了したら、以下のコマンドを実行。

`gvm install gradle 2.7`

これでgradleのインストールが完了します。

# build.gradleの書き方について
私は現場で、Java言語でeclipseを利用して開発をしています。
そのため、例として上記2つの条件を盛り込んだbuild.gradleをもとに
書き方について言及していこうと思います。
詳細な書き方については、サンプルを用意してありますので、
そちらを参照いただければと思います。

## apply plugin
プラグインを適用するための記述です。

## repositories
ライブラリのダウンロードをするためのリポジトリを設定する記述です。<br>
基本的にはURLの指定が必要になりますが、一部のリポジトリのみ、例外的に
簡単に記述できるようになっています。

|      リポジトリ名       |       指定方法        |
|:--------------------:|:---------------------:|
| Maven Cenralリポジトリ  |    mavenCentral()    |
| JCenter Mavenリポジトリ |    jcenter()         |

## dependencies
ここで指定したバージョンのライブラリを、自動でダウンロードしてくれます。<br>
ちなみにcompileとtestCompileの違いは以下のようになっています。

|  指定方法    |       指定するべきもの                 |
|:-----------:|:------------------------------------:|
| compile     |コードのコンパイルおよび実行に必要なライブラリ|
| testCompile |テストコードの実行に必要なライブラリ         |

また、ライブラリを指定するための書き方については下記サイトにも載っているので、<br>
必要なライブラリさえわかれば、調べることも可能です。<br>
[JCenter Maven]( https://bintray.com/bintray/jcenter "JCenter Maven")<br>
[Maven Central](  http://search.maven.org/ "Maven Central")

# ビルドの実行
ここまでできれば、あとは簡単。
以下のコマンドを実行すれば、ビルドを実行してくれます。<br>
`gradle build`

# 既存のビルドツールからの移行
さて、ある程度書き方はわかりましたが、最初からgradleを導入するのと<br>
既存で別のビルドツールを利用していて移行するのでは、また勝手が違ってきます。<br>
みんなで足並みをそろえて、さあ移行しようというのは中々難しいです。<br>
そんな悩みをgradleでは解決する方法があるのです！<br>
私の場合、現場ではMavenを利用しています。実は**既存のMaven PluginはGradleと互換性がない**ため、既存の資産は使うことができません。<br>
ですが1人が設定すれば、あとはみんな使えるっていうのはかなり便利です。<br>
調べてみると、やり方もすごく簡単でした。
build.gradleにwrapperというタスクを追加し、以下のコマンドを実行。(記述の詳細は別ファイル参照)<br>
`gradle wrapper`<br>
そうするとgradlew、gradlew.batというファイルとgradle用のフォルダが出来上がります。<br>
他のひとはWindows環境の場合には上記のバッチファイル、MacやLinuxの環境ではgradlewを実行するだけで、gradleコマンドを実行する必要はありません。<br>
これだけでもかなり移行のハードルが下がりますし、個人的にはすぐやってみたいですね。

# Gradleを調べてみて
build.gradleはpom.xmlに比べて見やすいし、書きやすそうだなと思う反面、<br>
あくまでビルドツールのための記述なので、pom.xmlを書いた経験が少ない人には<br>少しハードルが高いなと感じました。<br>
ただ、1人がgradle環境を構築すれば横展開できることはかなりのメリットだと思います。<br>
せっかく勉強したので、空きの時間にでも現場のpom.xmlをbuild.gradleに書き換えてみるなどして、<br>知識を増やしていこうと思います。
